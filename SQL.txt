create table disease
(
    ID             int          not null
        primary key,
    Name           varchar(255) null,
    DurationLiness int          null
);

create table patient
(
    ID          int          not null
        primary key,
    FirstName   varchar(255) null,
    LastName    varchar(255) null,
    Patronymic  varchar(255) null,
    DateBirth   date         null,
    PhoneNumber varchar(15)  null
);

create table position
(
    ID   int          not null
        primary key,
    Name varchar(255) null
);

create table doctor
(
    ID             int          not null
        primary key,
    FirstName      varchar(255) null,
    LastName       varchar(255) null,
    Patronymic     varchar(255) null,
    EmploymentDate date         null,
    PositionID     int          null,
    Login          varchar(255) null,
    Password       varchar(255) null,
    constraint doctor_position_ID_fk
        foreign key (PositionID) references position (ID)
);

create table status
(
    ID   int          not null
        primary key,
    Name varchar(255) null
);

create table diseaserecord
(
    ID                int            not null
        primary key,
    PatientID         int            null,
    FinalPrice        decimal(10, 2) null,
    DateStart         date           null,
    DateEnd           date           null,
    StatusID          int            null,
    AttendingDoctorID int            null,
    DiseaseID         int            null,
    constraint diseaserecord_disease_ID_fk
        foreign key (DiseaseID) references disease (ID),
    constraint diseaserecord_doctor_ID_fk
        foreign key (AttendingDoctorID) references doctor (ID),
    constraint diseaserecord_patient_ID_fk
        foreign key (PatientID) references patient (ID),
    constraint diseaserecord_status_ID_fk
        foreign key (StatusID) references status (ID)
);

create table procedurepatient
(
    ID              int            not null
        primary key,
    DoctorID        int            null,
    DiseaseRecordID int            null,
    Description     varchar(255)   null,
    DateStart       date           null,
    Duration        int            null,
    Cost            decimal(10, 2) null,
    StatusID        int            null,
    constraint procedurepatient_diseaserecord_ID_fk
        foreign key (DiseaseRecordID) references diseaserecord (ID),
    constraint procedurepatient_doctor_ID_fk
        foreign key (DoctorID) references doctor (ID),
    constraint procedurepatient_status_ID_fk
        foreign key (StatusID) references status (ID)
);

create table receipt
(
    ID              int            not null
        primary key,
    Amount          decimal(10, 2) null,
    DiseaseRecordID int            null,
    DatePayment     date           null,
    constraint receipt_diseaserecord_ID_fk
        foreign key (DiseaseRecordID) references diseaserecord (ID)
);

